---
title: "CSD-CoKV: Host-CSD Collaborative Offloading for High-Performance LSM-tree based KV Stores"
collection: publications
permalink: /publication/CSD-CoKV
excerpt: 'LSM-tree-based key-value stores are widely used due to their high performance and write efficiency. However, their background compaction process requires substantial data movement between the host and storage devices, resulting in inefficient resource usage, frequent write stalls, and degraded overall throughput. Existing optimizations often fail to address the performance bottlenecks caused by excessive system interconnect traffic. Although in-storage computing offers a promising way to mitigate data transfer overhead, prior works typically offload all compaction tasks blindly to computational storage devices, which leads to performance degradation due to CSD resource constraints. Through experimental observations, we find that naively offloading all compactions to CSDs can harm performance, and that host-side execution is particularly inefficient for deep-level compactions and compactions with low key-range overlap scores.
Based on these key observations, we propose CSD-CoKV, a novel framework that harmonizes CSD arrays with the host to accelerate LSM-tree compaction more intelligently. We propose a semantic-aware offloader to selectively pick appropriate compaction jobs to CSD arrays and deploys a lightweight high-speed compaction kernel inside each CSD. Additionally, we design a CSD-friendly data partitioning scheme that leverages both KV store characteristics and CSD storage locality to achieve balanced workload distribution and improved efficiency in CSD arrays. Evaluations show that, with the same number of compaction threads, CSD-CoKV improves write throughput by up to 2.39$\times$ and boosts compaction speed by up to 3.28$\times$.'
date: 2024-7-11
venue: 'IEEE International Conference on Data Engineering 2026 (ICDE, CCF-A)'
# paperurl: 'http://caozhining.github.io/files/HMC-FHE_A_Heterogeneous_Near_Data_Processing_Framework_for_Homomorphic_Encryption.pdf'
citation: 'Cao Z, Zhang K, et al. CSD-CoKV: Host-CSD Collaborative Offloading for High-Performance LSM-tree based KV Stores[C]. IEEE International Conference on Data Engineering, 2026.'
---

LSM-tree-based key-value stores are widely used due to their high performance and write efficiency. However, their background compaction process requires substantial data movement between the host and storage devices, resulting in inefficient resource usage, frequent write stalls, and degraded overall throughput. Existing optimizations often fail to address the performance bottlenecks caused by excessive system interconnect traffic. Although in-storage computing offers a promising way to mitigate data transfer overhead, prior works typically offload all compaction tasks blindly to computational storage devices, which leads to performance degradation due to CSD resource constraints. Through experimental observations, we find that naively offloading all compactions to CSDs can harm performance, and that host-side execution is particularly inefficient for deep-level compactions and compactions with low key-range overlap scores.
Based on these key observations, we propose CSD-CoKV, a novel framework that harmonizes CSD arrays with the host to accelerate LSM-tree compaction more intelligently. We propose a semantic-aware offloader to selectively pick appropriate compaction jobs to CSD arrays and deploys a lightweight high-speed compaction kernel inside each CSD. Additionally, we design a CSD-friendly data partitioning scheme that leverages both KV store characteristics and CSD storage locality to achieve balanced workload distribution and improved efficiency in CSD arrays. Evaluations show that, with the same number of compaction threads, CSD-CoKV improves write throughput by up to 2.39$\times$ and boosts compaction speed by up to 3.28$\times$.